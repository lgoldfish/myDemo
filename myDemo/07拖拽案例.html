<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <style>
    	* {
    		font-family: "KaiTi";
    	}
    	#container {
    		width: 400px;
    		height: 400px;
    		border: 1px solid #ccc;
    		background: pink;
    		position: absolute;
    		top: 10px;
    		left: 10px;
    	}

    	#login {
    		width: 400px;
    		height: 30px;
    		border-bottom: 1px solid black;
    		background-color: #666;
    		line-height: 30px;
    		color: #fff;
    	}
		#zc {
			float: left;
		}
		#close {
			float: right;
		}
    </style>
</head>

<body>
<!-- 物理结构  -->

<div id="container">
	<div id="login">
		<span id="zc"> 注册信息</span>
		<span id="close">关闭X</span>
	</div>
	
</div>
</body>

<script>

	/*
		思路总结：
			1. 获取元素绑定元素
				一个是鼠标按在谁的身上 
				鼠标移动的时候让谁去移动  
			2. 创建函数
				函数有两个参数  鼠标点谁  让谁去移动 
			3. 绑定鼠标按下事件  并且获取鼠标在盒子上的位置
			4. 在鼠标按键按下的基础上再绑定鼠标移动事件
			5. 设置要移动的盒子移动的距离 注意，让盒子移动一定要给移动的盒子加上定位属性
	 */
	var oDiv = document.getElementById('container');
	var aDiv = document.getElementById('login');
	//调用函数  ，第一个参数 鼠标点击谁 ，第二个是让 谁去移动
	startMove(aDiv,oDiv);

	function startMove(dom,move){


		dom.onmousedown = function (event){
			var env = event || window.event;
			//获取鼠标在盒子上的位置
			// env.clientX 鼠标的横坐标    move.offsetLeft 父元素的盒子距离页面左边的距离
			var x = env.clientX - move.offsetLeft;
			var y = env.clientY - move.offsetTop;

			document.onmousemove = function (event){
				var env = event || window.event;
				move.style.left = env.clientX - x + 'px';
				move.style.top = env.clientY - y + 'px';
			}
		}

		document.onmouseup  = function (){
			document.onmousemove = null;
		}
	}

	//onmousedown(a,b,c);
</script>

</html>
