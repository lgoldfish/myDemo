<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <style>
    	* {
    		margin: 0;
    		padding: 0;
    	}
    	ul { list-style: none; }
		.box {
			margin: 100px auto;
			width: 600px;
			height: auto;
			border: 1px solid #ccc;
			padding: 30px 0;
		}
		textarea {
			width: 450px;
			resize: none;
		}
		.box li {
			width: 450px;
			line-height: 30px;
			border-bottom: 1px dashed #ccc;
			margin-left: 80px;
		}

		.box li a {
			float: right;
		}
    </style>
</head>

<body>
<div class="box">
	微博发布：
	<textarea name="" id="" cols="30" rows="10"></textarea>
	<button>发布</button>
</div>
</body>

<script>
	var btn = document.getElementsByTagName('button')[0];
	var txt = document.getElementsByTagName('textarea')[0];
	//创建ul节点
	var ul = document.createElement('ul');

	btn.parentNode.appendChild(ul); // 将 ul插入到box中

	btn.onclick = function(){
		if(txt.value == ''){
			alert('内容不能为空');
			return false; // 如果用户内容为空，那么就终止代码执行
		}

		var newli = document.createElement('li');
		newli.innerHTML = txt.value + "<a href='javascript:;'>删除</a>";

		txt.value = '';

		var lis = ul.children;//获取当前ul中有多少个li

		if(lis.length == 0){
			ul.appendChild(newli);
		}else {
			ul.insertBefore(newli,lis[0]);
		}

		var as = document.getElementsByTagName('a');

		for(var i=0;i<as.length;i++){
			as[i].onclick = function(){
				ul.removeChild(this.parentNode);
			}
		}
	}

</script>
</html>
